<html>

<head>
    <title>Launchy</title>
</head>

<body>
    <header>Launchy is a prototype website that provides TLA Launch Services (using Web Push Notifications) across multiple platforms.
        <br>Launchy may also be used to provide other notification services. It could be used to:
        <ul>
            <li>Notify the learner when they have acquired a competency.</li>
            <li>Provide performance support links when a learner misses a question on an assessment.</li>
            <li>Respond to the user when they <a href="http://adlnet.gov/expapi/verbs/asked">ask</a> open ended questions via XAPI.</li>
            <li>Provide a user with new recommendations after they complete a resource.</li>
        </ul>
        Launchy is composed of a server side component (written in Node.js) and this webpage component. <a href="https://github.com/Lomilar/tla-launchy">Github</a>.</header>
    <p>Launchy has been tested on:</p>
    <ul>
        <li style="">Chrome on Ubuntu</li>
        <li style="">Chrome on Windows</li>
        <li style="">Chrome on Android</li>
        <li style="text-decoration:line-through">Safari on iPad (<a href="https://onesignal.com/blog/when-will-web-push-be-supported-in-ios/">Q3 or Q4 2017</a>)</li>
        <li style="text-decoration:line-through">Chrome on iPad (<a href="https://onesignal.com/blog/when-will-web-push-be-supported-in-ios/">Q3 or Q4 2017</a>)</li>
    </ul>
    <hr>
    <div class="notSupported">
        Push Notifications not yet supported on this device.
        <br> This does not work with Safari/Chrome on iOS yet due to a lack of support for "Service Workers".
        <br>
        <br>
        <a href="https://webkit.org/status/#specification-service-workers">https://webkit.org/status/#specification-service-workers</a> -- Any updates may be found here.
        <br>
        <a href="https://onesignal.com/blog/when-will-web-push-be-supported-in-ios/">https://onesignal.com/blog/when-will-web-push-be-supported-in-ios/</a> -- Some people estimate late 2017.</div>
    <div class="loggedIn" style="display:none;">
        <h4>User Information:</h4> You are logged in as: <span id="keycloakId"></span>
    </div>
    <div class="subscribed" style="display:none;">
        <h4>Device Information:</h4> This device is bound to: <span id="deviceOwnerId"></span>
        <br>Devices connected to your account: <span id="deviceCount"></span>
        <br>
        <br>
        <button onclick="tla.launchy.unsubscribe();setTimeout(function(){window.location = 'http://tla-core.adlnet.gov:8081/auth/realms/fluent/protocol/openid-connect/logout';},2000);">Unsubscribe and Logout</button>
        <button onclick="tla.launchy.unsubscribe();">Unsubscribe</button>
        <button onclick="launchy();">Request Notification</button>
    </div>
    <div class="notSubscribed" style="display:none;">
        <h4>This device is unregistered.</h4> To register this device, click the button below and allow notifications to be sent to this device.
        <br>
        <br>
        <button onclick="tla.launchy.subscribe();">Subscribe</button>
    </div>
    <h4 class="blocked" style="display:none;">Blocked.</h4>
    <script src="js/vendor/jquery.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/vendor/keycloak.js"></script>
    <script src="js/app.js"></script>
    <script src="js/webPush.js"></script>
</body>

</html>
